# Prompt Valet runtime configuration

# Where watchers and queue data live on disk.
pv_root: "/srv/prompt-valet"

# Where the inbox and processed trees live on disk.
inbox: "/srv/prompt-valet/inbox"
processed: "/srv/prompt-valet/processed"
repos_root: "/srv/prompt-valet/repos"
failed: "/srv/prompt-valet/failed"

# Default Git owner/host for upstream discovery.
git_owner: "nova-rey"
git_host: "github.com"
git_protocol: "https"

tree_builder:
  # Enable greedy mode: also consider upstream-only repos when building inbox roots.
  greedy_inboxes: true

  # Whether to aggressively pre-clone repos (usually false; watcher does cloning).
  eager_repos: false

  # Branch selection strategy: "all", "whitelist", "blacklist".
  branch_mode: "all"
  branch_whitelist: []
  branch_blacklist: []

  # Names that should never be treated as real branches.
  branch_name_blacklist:
    - "HEAD"

  scan_interval_seconds: 60

watcher:
  auto_clone_missing_repos: true
  git_default_owner: "owner"
  git_default_host: "github.com"
  git_protocol: "https"
  cleanup_non_git_dirs: true

  runner_cmd: "codex"
  runner_model: "gpt-5.1-codex-mini"
  runner_sandbox: "danger-full-access"

# Queue mode controls whether prompts run through the file-backed queue.
queue:
  enabled: false
  max_retries: 3
  failure_archive: false
