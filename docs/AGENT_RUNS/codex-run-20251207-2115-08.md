**Summary**
- Added regex-based repo-key validation plus `mark_inbox_root_invalid/mark_inbox_root_valid` helpers so invalid syntax keeps the inbox folder intact and missing upstream clones no longer trigger deletions; see `scripts/rebuild_inbox_tree.py:81`, `scripts/rebuild_inbox_tree.py:323`, `scripts/rebuild_inbox_tree.py:441`, and `scripts/rebuild_inbox_tree.py:499` for the new flow.
- Expanded the upstream inbox tests to ensure missing repos stay put with `ERROR.md`, illegal repo keys only add a marker without removal, and a repo like `nova-process` succeeds even without a local clone (`tests/test_rebuild_inbox_tree_upstream.py:105`, `tests/test_rebuild_inbox_tree_upstream.py:156`, `tests/test_rebuild_inbox_tree_upstream.py:179`).
- Captured the analysis and implementation plan for this checkpoint in `docs/analysis/p3-c1-analysis.md:1`.

**Testing**
- `pytest -q`
- `black .` (ran the formatter and then reverted unrelated rewrites to keep this change set focused on the tree builder/tests)
- `ruff check .` (fails in `scripts/codex_watcher.py` and several tests because of pre-existing unused `sys` imports and `sys.path` adjustments before other imports) and `ruff check scripts/rebuild_inbox_tree.py tests/test_rebuild_inbox_tree_upstream.py` (passes)

**Next Steps**
- Re-run `ruff check .` once the broad import-order/unused-import issues elsewhere are resolved so the full linting suite succeeds.
- Unable to commit or open the requested PR from this environment; please commit with the prescribed message (`P<X>C<Y>: Replace repo existence validation with syntax-only model`) and push as needed.