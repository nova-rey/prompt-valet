- **Submit persistence** `prompt_valet/ui/app.py:977-1235` now computes sorted repo/branch options, only rewrites select values when the existing selection becomes invalid, and only respects user input via NiceGUIâ€™s `update:model-value` events so `selected_repo`/`selected_branch` remain authoritative.
- **Submit panel hooks** `prompt_valet/ui/app.py:1216-1235` expose the client, selects, handlers, and `_get_selection()` helper to test code so we can drive the panel in isolation without touching the browser.
- **Regression test** `tests/test_ui_submit_panel.py:1-126` adds a controlled client stub and a refresh-driven scenario ensuring repo B survives repeated refreshes and that dropping B falls back to repo A.
- **Tests** `ruff check .`, `black .`, `pytest -q`