**Prompt Context**

- Got it: the task is to decouple repo and branch selectors in the Submit panel so branch changes can’t mutate repo state, with new authoritative `selected_repo`/`selected_branch` variables and stricter handler responsibilities.
- Shared refresh logic must be audited to keep repo state untouched unless targets refresh explicitly.
- Goal is stability: repo selection stays fixed across branch changes, branch selection persists when valid, and no UI flicker or API changes.

Let me know if you’d like me to start implementing this or if there’s anywhere specific you want to begin.